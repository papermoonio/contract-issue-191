"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolc = resolc;
exports.version = version;
const soljson_1 = __importDefault(require("solc/soljson"));
const resolc_1 = __importDefault(require("./resolc/resolc"));
function resolc(input) {
    const m = (0, resolc_1.default)(); // eslint-disable-line @typescript-eslint/no-explicit-any
    m.soljson = soljson_1.default;
    m.writeToStdin(input);
    m.callMain(['--standard-json']);
    const err = m.readFromStderr();
    if (err) {
        throw new Error(err);
    }
    return JSON.parse(m.readFromStdout());
}
function version() {
    const m = (0, resolc_1.default)(); // eslint-disable-line @typescript-eslint/no-explicit-any
    m.soljson = soljson_1.default;
    m.callMain(['--version']);
    const err = m.readFromStderr();
    if (err) {
        throw new Error(err);
    }
    return m.readFromStdout();
}
//# sourceMappingURL=resolc.js.map